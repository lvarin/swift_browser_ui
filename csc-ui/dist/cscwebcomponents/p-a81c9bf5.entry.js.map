{"version":3,"names":["cProgressBarCss","CProgressBar","_getSafeValue","this","value","render","style","color","classes","indeterminate","singleLine","detailsClasses","a11y","toString","title","params","role","max","h","Host","Object","assign","class","hideDetails","label"],"sources":["src/components/c-progress-bar/c-progress-bar.scss?tag=c-progress-bar&encapsulation=shadow","src/components/c-progress-bar/c-progress-bar.tsx"],"sourcesContent":[":host {\n  --bar-color: var(--csc-primary);\n  --bg-color: var(--csc-light-grey);\n  --border-size: 4px;\n  --height: 16px;\n  --value: 0%;\n\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.c-progress {\n  $this: &;\n\n  position: relative;\n  background-color: var(--bg-color);\n  border-radius: var(--height);\n  box-shadow: 0 0 0 var(--border-size) var(--bg-color);\n  flex-basis: 100%;\n  height: calc(var(--height) - calc(var(--border-size) * 2));\n  margin: var(--border-size);\n  opacity: 0.75;\n  overflow: hidden;\n  transform: translateZ(0); // Safari - overflow: hidden & border-radius fix\n  width: calc(100% - calc(var(--border-size) * 2));\n\n  &.adjacent-details {\n    flex: 1;\n  }\n\n  &__percentage {\n    flex-basis: 100%;\n    font-size: 14px;\n    margin-top: 2px;\n    text-align: end;\n    white-space: nowrap;\n    padding-left: 16px;\n\n    &--negative {\n      color: var(--csc-error);\n    }\n\n    &.adjacent-details {\n      flex: 0;\n    }\n  }\n\n  progress {\n    background-color: var(--bar-color);\n    border-radius: var(--height);\n    width: 100%;\n    background-color: transparent;\n    overflow: hidden;\n    height: calc(var(--height) - calc(var(--border-size) * 2));\n    position: absolute;\n    border: none;\n\n    @supports selector(:focus-within) {\n      &:focus {\n        outline: none;\n      }\n    }\n  }\n\n  &:focus-within {\n    outline: 2px var(--csc-primary) solid;\n    outline-offset: 6px;\n  }\n\n  ::-webkit-progress-bar {\n    background-color: transparent;\n  }\n\n  ::-webkit-progress-value {\n    transition: width 0.3s ease-in-out;\n    background-color: var(--bar-color);\n    border-radius: var(--height);\n  }\n\n  ::-moz-progress-bar {\n    transition: padding-bottom 1s;\n    padding-left: 60px;\n    padding-bottom: var(--value);\n    background-color: var(--bar-color);\n    height: 0;\n    transform-origin: 0 0;\n    transform: rotate(-90deg) translateX(-60px);\n  }\n\n  /* Force indeterminate bars to have zero width */\n  :indeterminate::-moz-progress-bar {\n    width: 0;\n  }\n\n  &--indeterminate {\n    &::before {\n      content: '';\n      position: absolute;\n      background-color: var(--bar-color);\n      border-radius: var(--height);\n      left: -100%;\n      height: 100%;\n      transform: translateX(var(--value, 0%));\n      transition: transform 0.3s ease-in-out;\n      animation: indeterminateAnimation 2s infinite linear;\n      width: 50%;\n      transform-origin: 0% 50%;\n    }\n  }\n}\n\n@keyframes indeterminateAnimation {\n  0% {\n    transform: translateX(100%) scaleX(1);\n  }\n  30% {\n    transform: translateX(170%) scaleX(1.75);\n  }\n  70% {\n    transform: translateX(500%) scaleX(0.1);\n  }\n  100% {\n    transform: translateX(500%) scaleX(0.1);\n  }\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\n\n/**\n * @group Indicators\n */\n@Component({\n  tag: 'c-progress-bar',\n  styleUrl: 'c-progress-bar.scss',\n  shadow: true,\n})\nexport class CProgressBar {\n  /**\n   * Progress bar value in percentage (0 to 100)\n   */\n  @Prop() value = 0;\n\n  /**\n   * Hide the percentage display\n   */\n  @Prop() hideDetails = false;\n\n  /**\n   * Place details next to progress bar\n   */\n  @Prop() singleLine = false;\n\n  /**\n   * Optional details message next to percentage display\n   */\n  @Prop() label = '';\n\n  /**\n   * Color of the bar (valid css color)\n   *\n   * @default var(--csc-primary)\n   */\n  @Prop() color: string;\n\n  /**\n   * Indeterminate state of the progress bar\n   */\n  @Prop() indeterminate = false;\n\n  private _getSafeValue() {\n    if (this.value >= 0 && this.value <= 100) return this.value;\n\n    if (this.value < 0) return 0;\n\n    return 100;\n  }\n\n  render() {\n    const value = this._getSafeValue();\n\n    const style = {\n      '--value': `${value}%`,\n      '--bar-color': this.color ? this.color : null,\n    };\n\n    const classes = {\n      'c-progress': true,\n      'c-progress--indeterminate': this.indeterminate,\n      'adjacent-details': this.singleLine,\n    };\n\n    const detailsClasses = {\n      'c-progress__percentage': true,\n      'c-progress__percentage--negative': this.value < 0,\n      'adjacent-details': this.singleLine,\n    };\n\n    const a11y = {\n      'aria-busy': (!this.indeterminate).toString(),\n      title: `${value} %`,\n    };\n\n    const params: {\n      role: string;\n      max: string;\n      value?: string;\n      'aria-valuenow'?: string;\n    } = {\n      role: 'progressbar',\n      max: '100',\n    };\n\n    if (!this.indeterminate) {\n      params.value = value.toString();\n      params['aria-valuenow'] = value.toString();\n    }\n\n    return (\n      <Host {...a11y}>\n        <label class={classes} style={style}>\n          <progress {...params}>{!this.indeterminate && `${value}%`}</progress>\n        </label>\n\n        {!this.indeterminate && !this.hideDetails && (\n          <div class={detailsClasses}>\n            {this.value} % {this.label}\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"kDAAA,MAAMA,EAAkB,ozJ,MCUXC,EAAY,M,oCAIP,E,iBAKM,M,gBAKD,M,WAKL,G,wCAYQ,K,CAEhBC,gBACN,GAAIC,KAAKC,OAAS,GAAKD,KAAKC,OAAS,IAAK,OAAOD,KAAKC,MAEtD,GAAID,KAAKC,MAAQ,EAAG,OAAO,EAE3B,OAAO,G,CAGTC,SACE,MAAMD,EAAQD,KAAKD,gBAEnB,MAAMI,EAAQ,CACZ,UAAW,GAAGF,KACd,cAAeD,KAAKI,MAAQJ,KAAKI,MAAQ,MAG3C,MAAMC,EAAU,CACd,aAAc,KACd,4BAA6BL,KAAKM,cAClC,mBAAoBN,KAAKO,YAG3B,MAAMC,EAAiB,CACrB,yBAA0B,KAC1B,mCAAoCR,KAAKC,MAAQ,EACjD,mBAAoBD,KAAKO,YAG3B,MAAME,EAAO,CACX,cAAeT,KAAKM,eAAeI,WACnCC,MAAO,GAAGV,OAGZ,MAAMW,EAKF,CACFC,KAAM,cACNC,IAAK,OAGP,IAAKd,KAAKM,cAAe,CACvBM,EAAOX,MAAQA,EAAMS,WACrBE,EAAO,iBAAmBX,EAAMS,U,CAGlC,OACEK,EAACC,EAAIC,OAAAC,OAAA,GAAKT,GACRM,EAAA,SAAOI,MAAOd,EAASF,MAAOA,GAC5BY,EAAA,WAAAE,OAAAC,OAAA,GAAcN,IAAUZ,KAAKM,eAAiB,GAAGL,QAGjDD,KAAKM,gBAAkBN,KAAKoB,aAC5BL,EAAA,OAAKI,MAAOX,GACTR,KAAKC,MAAK,MAAKD,KAAKqB,O"}
