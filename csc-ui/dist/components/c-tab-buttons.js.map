{"file":"c-tab-buttons.js","mappings":"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","names":["CTabButtons"],"sources":["src/components/c-tab-buttons/c-tab-buttons.scss?tag=c-tab-buttons&encapsulation=shadow","src/components/c-tab-buttons/c-tab-buttons.tsx"],"sourcesContent":[".c-tab-buttons {\n  --c-switch-border-color: var(--csc-primary);\n\n  display: flex;\n  flex-wrap: wrap;\n  box-shadow: 0 0 0 2px var(--c-switch-border-color);\n  margin: 2px;\n  border-radius: var(--csc-border-radius);\n  background-color: var(--csc-primary);\n  gap: 2px;\n\n  ::slotted(*) {\n    flex-grow: 1;\n  }\n\n  &--disabled {\n    --c-switch-border-color: var(--csc-light-grey);\n    pointer-events: none;\n    background-color: var(--csc-light-grey);\n  }\n}\n\n::slotted(c-button:first-child) {\n  --c-radius: 4px 0 0 4px;\n}\n\n::slotted(c-button:last-child) {\n  --c-radius: 0 4px 4px 0;\n}\n","import {\n  Component,\n  h,\n  Element,\n  Prop,\n  Event,\n  EventEmitter,\n  Watch,\n  Listen,\n} from '@stencil/core';\n\n/**\n * @group Content Selectors\n * @slot - Default slot for the c-button elements\n */\n@Component({\n  tag: 'c-tab-buttons',\n  styleUrl: 'c-tab-buttons.scss',\n  shadow: true,\n})\nexport class CTabButtons {\n  /**\n   * Value of tab buttons\n   */\n  @Prop({ mutable: true }) value: number | string = 0;\n\n  /**\n   * Always require a selection\n   */\n  @Prop() mandatory = false;\n\n  /**\n   * Size of the buttons\n   */\n  @Prop() size: 'default' | 'small' = 'default';\n\n  /**\n   * Disable tab buttons\n   */\n  @Prop({ attribute: 'disabled' }) hostDisabled = false;\n\n  /**\n   * Emit changes to the parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter<number | string>;\n\n  @Element() el: HTMLCTabButtonsElement;\n\n  private _isIndexBased: boolean;\n\n  @Watch('value')\n  onValueChange(value: string | number) {\n    this.el.childNodes.forEach((button: HTMLCButtonElement) => {\n      button.outlined = true;\n    });\n\n    if (value !== null) {\n      const button =\n        this.buttons.find((btn) => btn.value === value) || this.buttons[value];\n\n      if (button) button.outlined = false;\n    }\n\n    this.changeValue.emit(this.buttons[value]?.value ?? value);\n  }\n\n  @Listen('tabChange', { passive: true })\n  onTabChange(event: CustomEvent) {\n    const isActive =\n      this.value !== null &&\n      (this._isIndexBased\n        ? +event.detail === +this.value\n        : event.detail === this.value);\n\n    // Disable deselection if mandatory prop is set to true\n    if (this.mandatory && isActive) {\n      return;\n    }\n\n    const nullValue = this._isIndexBased ? null : '';\n    const value = this._isIndexBased ? +event.detail : event.detail;\n\n    this.value = isActive ? nullValue : value;\n  }\n\n  get buttons() {\n    return Array.from(this.el.childNodes).filter(\n      (element: HTMLCButtonElement) => element.tagName === 'C-BUTTON',\n    ) as HTMLCButtonElement[];\n  }\n\n  componentDidLoad() {\n    this._isIndexBased = this.buttons.every(\n      (button) => typeof button.value === 'undefined',\n    );\n\n    this.buttons.forEach((button: HTMLCButtonElement, index) => {\n      button.setAttribute('data-index', String(index));\n      button.grouped = true;\n      button.disabled = this.hostDisabled;\n      button.size = this.size;\n\n      const isActive =\n        this.value !== null &&\n        (this._isIndexBased\n          ? index === +this.value\n          : button.value === this.value);\n\n      button.outlined = !isActive;\n\n      const buttonElement = button.shadowRoot.querySelector('.c-button');\n\n      buttonElement.classList.add('grouped');\n    });\n  }\n\n  render() {\n    const classes = {\n      'c-tab-buttons': true,\n      'c-tab-buttons--disabled': this.hostDisabled,\n    };\n\n    return (\n      <div class={classes}>\n        <slot></slot>\n      </div>\n    );\n  }\n}\n"],"version":3}
