{"file":"c-sidenavigationitem.js","mappings":"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","names":["CSidenavigationitem"],"sources":["src/components/c-sidenavigationitem/c-sidenavigationitem.scss?tag=c-sidenavigationitem&encapsulation=shadow","src/components/c-sidenavigationitem/c-sidenavigationitem.tsx"],"sourcesContent":[":host(.c-sidenavigation-item) {\n  align-items: center;\n  backface-visibility: hidden;\n  background-color: #d8e8ea00;\n  border-radius: 4px 0 0 4px;\n  color: #fff;\n  cursor: pointer;\n  display: grid;\n  grid-template-columns: 1fr;\n  font-weight: 400;\n  overflow: hidden;\n  position: relative;\n  transform: translate3d(0, 0, 0);\n  user-select: none;\n  min-width: calc(320px - 24px);\n}\n\n:host(.c-sidenavigation-item:hover) {\n  background-color: #d8e8ea44;\n}\n\n:host(.c-sidenavigation-item:focus) {\n  outline: none;\n}\n\n:host(.c-sidenavigation-item:focus-visible) {\n  border-radius: 4px 0 0 4px;\n  outline: 2px #fff solid;\n  outline-offset: 2px;\n}\n\n:host(.c-sidenavigation-item.active) {\n  background-color: #d8e8ea;\n  color: var(--csc-primary);\n\n  .svg {\n    fill: var(--csc-primary);\n    transform: rotate(90deg);\n  }\n\n  .c-sidenavigation-item__header {\n    color: var(--csc-primary);\n  }\n}\n\n.c-sidenavigation-item {\n  &__header {\n    align-items: center;\n    color: #fff;\n    display: grid;\n    gap: 8px;\n    grid-template-columns: 1fr;\n    min-height: 46px;\n    padding: 0 12px;\n\n    &--expandable {\n      grid-template-columns: auto 1fr;\n    }\n  }\n\n  &__slot {\n    max-width: 100%;\n    overflow: hidden;\n  }\n}\n\n:host(.c-sidenavigation-item--parent.active) {\n  padding-bottom: 4px;\n}\n\n::slotted(span),\n::slotted(c-icon) {\n  margin-right: 8px;\n  font-size: 20px;\n}\n\n::slotted([slot='main']) {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: normal;\n}\n\n.styleMain {\n  padding-left: 16px;\n}\n\n.subnavitem {\n  height: 0;\n  overflow-y: hidden;\n  transition: all 500ms ease;\n  width: 100%;\n}\n\n.subnavactive {\n  height: max-content;\n  width: 100%;\n}\n\n.svg {\n  align-self: center;\n  fill: #fff;\n  transition: transform 0.3s ease;\n}\n\n:host > div.active .svg {\n  fill: var(--csc-primary);\n  transform: rotate(90deg);\n}\n\n.svg.hidden {\n  opacity: 0;\n}\n\n.middle {\n  display: flex;\n  height: 100%;\n  align-items: center;\n}\n","import {\n  Component,\n  h,\n  Host,\n  Prop,\n  Element,\n  Event,\n  EventEmitter,\n  Watch,\n} from '@stencil/core';\nimport { mdiChevronRight } from '@mdi/js';\n\n/**\n * @parent c-sidenavigation\n */\n@Component({\n  tag: 'c-sidenavigationitem',\n  styleUrl: 'c-sidenavigationitem.scss',\n  shadow: true,\n})\nexport class CSidenavigationitem {\n  @Element() hostElement: HTMLCSidenavigationitemElement;\n\n  /**\n   * Indicate active state\n   */\n  @Prop() active: boolean;\n\n  /**\n   * Hyperlink url\n   */\n  @Prop() href: string;\n\n  /**\n   * Hyperlink target\n   */\n  @Prop() target: string = null;\n\n  /**\n   * Loading state\n   */\n  @Prop() loading = false;\n\n  /**\n   * Emit changes to the c-accordion\n   * @private\n   */\n  @Event() itemChange: EventEmitter;\n\n  @Watch('active')\n  onActiveChange(active: boolean) {\n    this._handleChildFocusableChange(active);\n  }\n\n  private _ariaLabel: string;\n\n  private _handleChildFocusableChange(focusable: boolean) {\n    if (!this._slotHasContent) return;\n\n    const children = Array.from(\n      this.hostElement.querySelector('[slot=\"subnavitem\"]').children,\n    );\n\n    children.forEach((child: HTMLCSubnavigationitemElement) => {\n      child.ariaHidden = (!focusable).toString();\n      child.focusable = focusable;\n    });\n  }\n\n  private _redirect(event: KeyboardEvent | Event) {\n    if (\n      (event instanceof KeyboardEvent && event?.key === 'Enter') ||\n      !(event instanceof KeyboardEvent)\n    ) {\n      // event.stopPropagation();\n      this.itemChange.emit(event);\n\n      if (!this._slotHasContent) {\n        const sidenav = document.querySelector('c-sidenavigation');\n        sidenav.menuVisible = false;\n      }\n\n      if (this.href) {\n        if (this.target) {\n          window.open(this.href, this.target);\n        } else {\n          window.location.href = this.href;\n        }\n      }\n    }\n  }\n\n  private _slotHasContent = false;\n\n  componentWillLoad() {\n    this._slotHasContent = !!this.hostElement.querySelector(\n      '[slot=\"subnavitem\"]',\n    );\n\n    const children = Array.from(\n      this.hostElement.querySelector('[slot=\"main\"]').childNodes,\n    );\n\n    this._ariaLabel = children.find((c) => !!c.nodeValue)?.nodeValue?.trim();\n\n    this._handleChildFocusableChange(this.active);\n  }\n\n  render() {\n    const classes = {\n      'c-sidenavigation-item': true,\n      'c-sidenavigation-item--parent': this._slotHasContent,\n      active: this.active,\n    };\n\n    const subNavigationClasses = {\n      subnavactive: this.active,\n      subnavitem: !this.active,\n    };\n\n    const a11y = {\n      role: 'menuitem',\n      tabindex: '0',\n    };\n\n    if (this._slotHasContent) {\n      a11y['aria-expanded'] = (!!this.active)?.toString();\n    } else if (this.active) {\n      a11y['aria-current'] = 'page';\n    }\n\n    return (\n      <Host\n        {...a11y}\n        class={classes}\n        onClick={(e) => this._redirect(e)}\n        onKeyDown={(e) => this._redirect(e)}\n      >\n        <div\n          class={{\n            'c-sidenavigation-item__header': true,\n            'c-sidenavigation-item__header--expandable': this._slotHasContent,\n          }}\n        >\n          {this._slotHasContent && (\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" class=\"svg\">\n              <path d={mdiChevronRight} />\n            </svg>\n          )}\n          <div class=\"c-sidenavigation-item__slot\">\n            <slot name=\"main\"></slot>\n          </div>\n        </div>\n\n        {this._slotHasContent && (\n          <nav\n            role=\"menubar\"\n            aria-label={this._ariaLabel}\n            aria-expanded={(!!this.active)?.toString()}\n            class={subNavigationClasses}\n          >\n            <slot name=\"subnavitem\"></slot>\n          </nav>\n        )}\n\n        <c-loader\n          size={32}\n          hide={!this.loading}\n          style={{ pointerEvents: 'none' }}\n        ></c-loader>\n      </Host>\n    );\n  }\n}\n"],"version":3}
